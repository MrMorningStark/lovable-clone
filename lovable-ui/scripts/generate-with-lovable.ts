import { spawn } from 'child_process';import path from 'path';async function main() {  const [, , prompt] = process.argv;  if (!prompt) {    console.error('No prompt provided');    process.exit(1);  }  try {    const response = await fetch('http://127.0.0.1:8000/chat', {      method: 'POST',      headers: {        'Content-Type': 'application/json',      },      body: JSON.stringify({ text: prompt }),    });    if (!response.ok) {      const errorData = await response.json();      throw new Error(errorData.error || 'Failed to generate website');    }    const reader = response.body?.getReader();    const decoder = new TextDecoder();    if (!reader) {      throw new Error('No response body');    }    while (true) {      const { done, value } = await reader.read();      if (done) {        break;      }      const chunk = decoder.decode(value);      const lines = chunk.split('\n');      for (const line of lines) {        if (line.startsWith('data: ')) {          const data = line.slice(6);          if (data === '[DONE]') {            break;          }          try {            const message = JSON.parse(data);            console.log(JSON.stringify(message));          } catch (e) {            console.warn('⚠️ Failed to parse message:', data, e);          }        }      }    }  } catch (error: any) {    console.error(error.message);    process.exit(1);  }}main();